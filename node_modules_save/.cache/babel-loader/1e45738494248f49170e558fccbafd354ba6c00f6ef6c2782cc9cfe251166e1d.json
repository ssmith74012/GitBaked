{"ast":null,"code":"// grab our db client connection to use with our adapters\nconst client = require(\"./client\");\nasync function createUser(data) {\n  try {\n    const {\n      rows: [user]\n    } = await client.query(`\n       INSERT INTO users(username, password) \n      VALUES($1, $2) RETURNING *;\n     `, [data.username, data.password]);\n    delete user.password;\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\nasync function getAllUsers(data) {\n  /* this adapter should fetch a list of users from your db */\n  try {\n    const {\n      rows: [user]\n    } = await client.query(`\n    SELECT *\n    FROM users\n    WHERE username=$1;\n    `, [data.username]);\n    if (user.password !== data.password) {\n      return;\n    }\n    delete user.password;\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\nasync function getUserById(userId) {\n  try {\n    const {\n      rows: [user]\n    } = await client.query(`\n      SELECT *\n      FROM users\n      WHERE id=$1;\n      `, [userId]);\n    delete user.password;\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\nasync function getUserByUsername(userName) {\n  try {\n    const {\n      rows: [user]\n    } = await client.query(`\n    SELECT *\n    FROM users\n    WHERE username=$1;\n    `, [userName]);\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\nmodule.exports = {\n  // add your database adapter fns here\n  createUser,\n  getAllUsers,\n  getUserById,\n  getUserByUsername\n};","map":{"version":3,"names":["client","require","createUser","data","rows","user","query","username","password","error","getAllUsers","getUserById","userId","getUserByUsername","userName","module","exports"],"sources":["/Users/ssmith_1989/pie-or-dye/src/components/users.js"],"sourcesContent":["// grab our db client connection to use with our adapters\nconst client = require(\"./client\");\n\nasync function createUser(data) {\n  try {\n    const {\n      rows: [user],\n    } = await client.query(\n      `\n       INSERT INTO users(username, password) \n      VALUES($1, $2) RETURNING *;\n     `,\n      [data.username, data.password]\n    );\n    delete user.password;\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getAllUsers(data) {\n  /* this adapter should fetch a list of users from your db */\n  try {\n    const {\n      rows: [user],\n    } = await client.query(\n      `\n    SELECT *\n    FROM users\n    WHERE username=$1;\n    `,\n      [data.username]\n    );\n\n    if (user.password !== data.password) {\n      return;\n    }\n    delete user.password;\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getUserById(userId) {\n  try {\n    const {\n      rows: [user],\n    } = await client.query(\n      `\n      SELECT *\n      FROM users\n      WHERE id=$1;\n      `,\n      [userId]\n    );\n\n    delete user.password;\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getUserByUsername(userName) {\n  try {\n    const {\n      rows: [user],\n    } = await client.query(\n      `\n    SELECT *\n    FROM users\n    WHERE username=$1;\n    `,\n      [userName]\n    );\n\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\n\nmodule.exports = {\n  // add your database adapter fns here\n  createUser,\n  getAllUsers,\n  getUserById,\n  getUserByUsername,\n};\n"],"mappings":"AAAA;AACA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAElC,eAAeC,UAAUA,CAACC,IAAI,EAAE;EAC9B,IAAI;IACF,MAAM;MACJC,IAAI,EAAE,CAACC,IAAI;IACb,CAAC,GAAG,MAAML,MAAM,CAACM,KAAK,CACnB;AACP;AACA;AACA,MAAM,EACA,CAACH,IAAI,CAACI,QAAQ,EAAEJ,IAAI,CAACK,QAAQ,CAC/B,CAAC;IACD,OAAOH,IAAI,CAACG,QAAQ;IACpB,OAAOH,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF;AAEA,eAAeC,WAAWA,CAACP,IAAI,EAAE;EAC/B;EACA,IAAI;IACF,MAAM;MACJC,IAAI,EAAE,CAACC,IAAI;IACb,CAAC,GAAG,MAAML,MAAM,CAACM,KAAK,CACnB;AACP;AACA;AACA;AACA,KAAK,EACC,CAACH,IAAI,CAACI,QAAQ,CAChB,CAAC;IAED,IAAIF,IAAI,CAACG,QAAQ,KAAKL,IAAI,CAACK,QAAQ,EAAE;MACnC;IACF;IACA,OAAOH,IAAI,CAACG,QAAQ;IACpB,OAAOH,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF;AAEA,eAAeE,WAAWA,CAACC,MAAM,EAAE;EACjC,IAAI;IACF,MAAM;MACJR,IAAI,EAAE,CAACC,IAAI;IACb,CAAC,GAAG,MAAML,MAAM,CAACM,KAAK,CACnB;AACP;AACA;AACA;AACA,OAAO,EACD,CAACM,MAAM,CACT,CAAC;IAED,OAAOP,IAAI,CAACG,QAAQ;IACpB,OAAOH,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF;AAEA,eAAeI,iBAAiBA,CAACC,QAAQ,EAAE;EACzC,IAAI;IACF,MAAM;MACJV,IAAI,EAAE,CAACC,IAAI;IACb,CAAC,GAAG,MAAML,MAAM,CAACM,KAAK,CACnB;AACP;AACA;AACA;AACA,KAAK,EACC,CAACQ,QAAQ,CACX,CAAC;IAED,OAAOT,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF;AAEAM,MAAM,CAACC,OAAO,GAAG;EACf;EACAd,UAAU;EACVQ,WAAW;EACXC,WAAW;EACXE;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}