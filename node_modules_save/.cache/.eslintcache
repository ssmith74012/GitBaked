[{"/Users/ssmith_1989/pie-or-dye/src/index.js":"1","/Users/ssmith_1989/pie-or-dye/src/components/App.js":"2","/Users/ssmith_1989/pie-or-dye/src/components/Login.js":"3","/Users/ssmith_1989/pie-or-dye/src/components/Register.js":"4","/Users/ssmith_1989/pie-or-dye/src/components/Home.js":"5","/Users/ssmith_1989/pie-or-dye/src/components/users.js":"6","/Users/ssmith_1989/pie-or-dye/src/components/client.js":"7"},{"size":488,"mtime":1688003108930,"results":"8","hashOfConfig":"9"},{"size":2079,"mtime":1688086006607,"results":"10","hashOfConfig":"9"},{"size":2637,"mtime":1688082168631,"results":"11","hashOfConfig":"9"},{"size":1957,"mtime":1688089602316,"results":"12","hashOfConfig":"9"},{"size":139,"mtime":1688010044099,"results":"13","hashOfConfig":"9"},{"size":1511,"mtime":1688089573752,"results":"14","hashOfConfig":"9"},{"size":543,"mtime":1688089449100,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},"17w5ibo",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ssmith_1989/pie-or-dye/src/index.js",[],[],[],"/Users/ssmith_1989/pie-or-dye/src/components/App.js",["41"],[],"import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Home from \"./Home\";\nimport \"../style/App.css\";\n\nconst App = () => {\n  const [authToken, setAuthToken] = useState(\n    window.localStorage.getItem(\"st-token\")\n  );\n  const DB_NAME = \"Git-Baked\";\n  const DB_URL =\n    process.env.DATABASE_URL || `postgres://localhost:5432/${DB_NAME}`;\n\n  // useEffect(() => {\n  // follow this pattern inside your useEffect calls:\n  // first, create an async function that will wrap your axios service adapter\n  // invoke the adapter, await the response, and set the data\n  // const getAPIStatus = async () => {\n  //   const { healthy } = await getAPIHealth();\n  //   setAPIHealth(healthy ? 'api is up! :D' : 'api is down :/');\n  // };\n\n  // second, after you've defined your getter above\n  // invoke it immediately after its declaration, inside the useEffect callback\n  //   getAPIStatus();\n  // }, []);\n\n  return (\n    <div className=\"app-container\">\n      <header>\n        <h1>Welcome to Git Baked! Your online bakery.</h1>\n        <div className=\"links\">\n          <Link className=\"link\" to=\"/\">\n            Home\n          </Link>\n          <Link className=\"link-one\" to=\"/products\">\n            Products\n          </Link>\n          <Link className=\"link-two\" to=\"/login\">\n            Login\n          </Link>\n          <Link className=\"link-three\" to=\"/register\">\n            Register\n          </Link>\n        </div>\n      </header>\n\n      <Routes>\n        <Route index element={<Home DB_URL={DB_URL} authToken={authToken} />} />\n        <Route path=\"login\" element={<Login />} />\n        <Route\n          path=\"register\"\n          element={\n            <Register\n              authToken={authToken}\n              setAuthToken={setAuthToken}\n              DB_URL={DB_URL}\n            />\n          }\n        />\n        <Route path=\"products\" element={<h2> Products </h2>} />\n      </Routes>\n    </div>\n  );\n};\n\nexport default App;\n",[],"/Users/ssmith_1989/pie-or-dye/src/components/Login.js",["42","43"],[],"import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\n\nconst Login = ({ setAuthToken, isLoggedIn, setIsLoggedIn }) => {\n  const DB_NAME = \"Git-Baked\";\n  const DB_URL =\n    process.env.DATABASE_URL || `postgres://localhost:5432/${DB_NAME}`;\n  // console.log(\"BASE_URL = \", `${DB_URL}` );\n\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginResponse, setLoginResponse] = useState(\"\");\n\n  useEffect(() => {\n    if (isLoggedIn) navigate(\"/\");\n  }, []);\n\n  const handleemail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(`${DB_NAME}/users/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password,\n        }),\n      });\n      const json = await response.json();\n\n      console.log(\"json:\", json);\n      if (!json.error) {\n        console.log(\"token:\", json.token);\n        setAuthToken(json.token);\n        window.localStorage.setItem(\"st-token\", json.token);\n        setLoginResponse(json.message);\n\n        navigate(\"/\");\n      } else {\n        setLoginResponse(json.error);\n      }\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"content\">\n        <h2>Login</h2>\n\n        <Box\n          component=\"form\"\n          sx={{\n            \"& .MuiTextField-root\": { m: 1, width: \"25ch\" },\n          }}\n          noValidate\n          autoComplete=\"off\"\n          className=\"reg-form\"\n          onSubmit={handleSubmit}\n        >\n          <TextField\n            required\n            id=\"outlined-required\"\n            label=\"email\"\n            className=\"reg-form-elem\"\n            value={email}\n            onChange={handleemail}\n          />\n          <TextField\n            required\n            id=\"outlined-required\"\n            label=\"Password\"\n            className=\"reg-form-elem\"\n            value={password}\n            onChange={handlePassword}\n          />\n\n          <Button className=\"reg-form-elem\" type=\"submit\" variant=\"contained\">\n            Log in\n          </Button>\n          <h4>{loginResponse ? loginResponse : \"\"}</h4>\n        </Box>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","/Users/ssmith_1989/pie-or-dye/src/components/Register.js",["44","45","46"],[],"/Users/ssmith_1989/pie-or-dye/src/components/Home.js",[],[],"/Users/ssmith_1989/pie-or-dye/src/components/users.js",[],[],"/Users/ssmith_1989/pie-or-dye/src/components/client.js",[],[],{"ruleId":"47","severity":1,"message":"48","line":1,"column":27,"nodeType":"49","messageId":"50","endLine":1,"endColumn":36},{"ruleId":"47","severity":1,"message":"51","line":9,"column":9,"nodeType":"49","messageId":"50","endLine":9,"endColumn":15},{"ruleId":"52","severity":1,"message":"53","line":20,"column":6,"nodeType":"54","endLine":20,"endColumn":8,"suggestions":"55"},{"ruleId":"47","severity":1,"message":"56","line":9,"column":9,"nodeType":"49","messageId":"50","endLine":9,"endColumn":17},{"ruleId":"47","severity":1,"message":"57","line":13,"column":23,"nodeType":"49","messageId":"50","endLine":13,"endColumn":37},{"ruleId":"47","severity":1,"message":"51","line":16,"column":9,"nodeType":"49","messageId":"50","endLine":16,"endColumn":15},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'DB_URL' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'isLoggedIn' and 'navigate'. Either include them or remove the dependency array.","ArrayExpression",["58"],"'navigate' is assigned a value but never used.","'setRegResponse' is assigned a value but never used.",{"desc":"59","fix":"60"},"Update the dependencies array to be: [isLoggedIn, navigate]",{"range":"61","text":"62"},[699,701],"[isLoggedIn, navigate]"]